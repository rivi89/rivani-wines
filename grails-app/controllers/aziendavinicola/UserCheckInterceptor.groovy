package aziendavinicola

//TODO: smista i redirect a seconda dello stato dell'utente: non loggato, cliente loggato o dipendente loggato?
class UserCheckInterceptor {
/*    UserCheckInterceptor(){
        matchAll()
                .excludes(controller: 'utente', action: 'login')
                .excludes(controller: 'cliente', action: 'signup')
                .excludes(controller: 'cliente', action: 'save')
                .excludes(controller: 'utente', action: 'autenticaUtente')

    }

    boolean before() {
        if(!session.utente){
            println("utente no loggato!")
            redirect controller: 'utente', action: 'login'
        }
        true
    }

    boolean after() { true }

    void afterView() {
        // no-op
    }*/
}
